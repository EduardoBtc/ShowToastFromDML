<?xml version="1.0" encoding="UTF-8"?>
<LightningComponentBundle xmlns="http://soap.sforce.com/2006/04/metadata">
    <apiVersion>64.0</apiVersion>
    <isExposed>true</isExposed>
    <masterLabel>Show Toast From DML</masterLabel>
    <description>Monitora altera칞칫es em campos via CDC e exibe notifica칞칫es toast configur치veis</description>
    <targets>
        <target>lightning__RecordPage</target>
    </targets>
    <targetConfigs>
        <targetConfig targets="lightning__RecordPage">
            <supportedFormFactors>
                <supportedFormFactor type="Small"/>
                <supportedFormFactor type="Large"/>
            </supportedFormFactors>

            <!-- ========== 1. CONFIGURA칂츾O B츼SICA ========== -->
            <property 
                name="fieldMonitoringApiName"
                type="String"
                label="Campo Monitorado"
                description="Nome da API do campo a ser monitorado (ex: Status__c, ApprovalStatus__c)"
                placeholder="Ex: Status__c"
                required="true"/>

            <!-- ========== 2. CONTE칔DO DA NOTIFICA칂츾O ========== -->
            <property 
                name="toastTitle"
                type="String"
                label="T칤tulo do Toast"
                description="T칤tulo com suporte autom치tico a merge fields: {oldValue}, {newValue}, {recordId}, {objectName}"
                default="Notifica칞칚o"
                placeholder="Ex: Status mudou para {fieldValue}"/>

            <property 
                name="toastMessage"
                type="String"
                label="Mensagem do Toast"
                description="Mensagem com processamento autom치tico de merge fields quando detectados"
                default="O campo foi atualizado"
                placeholder="Ex: Mudou de {oldValue} para {newValue}"/>

            <!-- ========== 3. APAR칅NCIA ========== -->
            <property 
                name="toastVariant"
                type="String"
                label="Tipo de Notifica칞칚o"
                description="Define a cor e o 칤cone do toast"
                default="success"
                datasource="success,error,warning,info"/>

            <property 
                name="toastMode"
                type="String"
                label="Modo de Exibi칞칚o"
                description="Controla como o toast 칠 fechado pelo usu치rio"
                default="dismissable"
                datasource="dismissable,pester,sticky"/>

            <!-- ========== 4. COMPORTAMENTO ========== -->
            <property 
                name="forceRefreshView"
                type="Boolean"
                label="For칞ar Refresh da P치gina"
                description="Se marcado, atualiza a p치gina automaticamente ap칩s exibir o toast"
                default="false"/>

            <property 
                name="refreshDelayMs"
                type="Integer"
                label="Delay do Refresh (ms)"
                description="Tempo de espera antes de atualizar a p치gina (em milissegundos)"
                default="1000"
                min="0"
                max="10000"/>

            <property 
                name="showOnlyOnce"
                type="Boolean"
                label="Exibir Apenas Uma Vez"
                description="Se marcado, mostra o toast apenas na primeira mudan칞a detectada"
                default="false"/>

            <!-- ========== 5. AJUDA ========== -->
            <property 
                name="helpVariables"
                type="String"
                label="游늶 Vari치veis Dispon칤veis"
                description="Lista de todas as vari치veis din칙micas que podem ser usadas nas mensagens"
                default="{oldValue} - Valor anterior do campo | {newValue} - Valor atual | {recordId} - ID do registro | {objectName} - Nome do objeto"/>

            <property 
                name="helpExamples"
                type="String"
                label="游닇 Exemplos de Uso"
                description="Exemplos pr치ticos de como usar as vari치veis din칙micas"
                default="T칤tulo: 'Status Atualizado' | Mensagem: 'Campo mudou de {oldValue} para {newValue}' | T칤tulo: 'Aprova칞칚o Conclu칤da!' | Mensagem: 'Registro {recordId} foi aprovado' | T칤tulo: '{objectName} Modificado' | Mensagem: 'Novo valor: {newValue}'"/>

            <property 
                name="helpTip"
                type="String"
                label="游눠 Dica de Uso"
                description="Dica importante para usar as vari치veis din칙micas"
                default="Copie e cole as vari치veis nas suas mensagens. Ative 'Processar Merge Fields' para que as vari치veis sejam substitu칤das pelos valores reais."/>

            <!-- ========== 6. AVAN칂ADO ========== -->
            <property 
                name="debugMode"
                type="Boolean"
                label="Modo Debug"
                description="Se marcado, exibe logs detalhados no console do navegador"
                default="false"/>

        </targetConfig>
    </targetConfigs>
</LightningComponentBundle>